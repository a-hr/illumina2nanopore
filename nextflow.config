// -------- DEFAULT PARAMETER VALUES --------
params {
    run_name    = "test_run"
    output      = "${baseDir}/"
    fast5_dir   = "${baseDir}/inputs"
    output_dir  = "${output}/${run_name}_output/"

    config_file = "dna_r9.4.1_450bps_sup.cfg"
    
    bc_csv  = "${baseDir}/inputs/csvs/barcodes.csv"
    lib_csv = "${baseDir}/inputs/csvs/libraries.csv"
    saf_file = "${baseDir}/inputs/csvs/annotations.saf"

    index_dir = "${baseDir}/index"

    suffix1 = "_R1"
    suffix2 = "_R2"

    // --------  TRIMMING CONFIG --------
    fw_fp_P5_1 = "AATGATACGGCGACCACCGAGATCTACACTCTTTCCCTA" 
    fw_tp_P3_1  = "ATCTCGTATGCCGTCTTCTGCTTG"
    rv_fp_P3_1   = "CAAGCAGAAGACGGCATACGAGAT"
    rv_tp_P5_1  = "TAGGGAAAGAGTGTAGATCTCGGTGGTCGCCGTATCATT"

    fw_P5_2 = "CACGACGCTCTTCCGATCT"
    fw_P3_2 = "AGATCGGAAGAGCACACGTCTGAACTCCAGTCAC"

    // -------- RETRIEVING INTERMEDIATE FILES --------
    publish_basecalled              = false
    publish_orient_demultiplexed    = false
    publish_complemented            = false
    publish_merged_complemented     = false
    publish_lib_demultiplexed       = false
    publish_trimmed                 = false
    publish_bc_demultiplexed        = false
    publish_UMI_extracted           = false
    publish_mapped                  = true

    // -------- OTHER CONFIGS --------
    multiqc_config =  "${baseDir}/assets/multiqc_config.yaml"
    merge_all_fw   = false
}

// -------- DONT MODIFY BELOW THIS LINE --------

profiles {

    standard {
        includeConfig 'conf/standard.config'
    }

    cluster {
        includeConfig 'conf/cluster.config'
    }
}

report {
    enabled     = true
    file        = "${params.output_dir}/reports/execution_report.html"
    overwrite   = true
}

timeline {
    enabled     = true
    file        = "${params.output_dir}/reports/timeline_report.html"
    overwrite   = true
}

dag {
    enabled = false
    file    = 'ill2nanopore_dag.mmd'
}

manifest {
    name            = 'a-hr/nanopore'
    author          = 'Alvaro Herrero Reiriz'
    homePage        = 'https://github.com/a-hr/illumina2nanopore'
    description     = 'A pipeline to demultiplex, map, deduplicate and count target RNA sequences'
    mainScript      = 'main.nf'
    nextflowVersion = '!>=22.10.1'
    version         = '1.0.0'
}